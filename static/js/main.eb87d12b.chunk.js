(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(6),o=(n(14),n(8)),c=n(1),l=n(3),u=n(2),i=n(4),d=n(7);var m=function(e){var t=e.comment;return s.a.createElement("div",{className:"text-block"},s.a.createElement("h4",null,t.name),s.a.createElement("div",null,t.body))},p={backend:{BASE_URL:"https://jsonplaceholder.typicode.com"}},h=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={isOpen:!1,comments:[]},n.handleClick=function(){n.state.isOpen?n.setState({isOpen:!1}):fetch("".concat(p.backend.BASE_URL,"/posts/").concat(n.props.postId,"/comments")).then(function(e){return e.json()}).then(function(e){return n.setState({comments:e,isOpen:!0})})},n}return Object(i.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"user-comments"},s.a.createElement("div",{className:"comments"},s.a.createElement("button",{className:"button-default",onClick:this.handleClick},this.state.isOpen?"hide comments":"show comments"),this.state.isOpen&&this.state.comments.length>0&&s.a.createElement("ul",null,this.state.comments.map(function(e){return s.a.createElement("li",{key:e.id},s.a.createElement(m,{comment:e}))}))))}}]),t}(a.Component);var f=function(e){var t=e.userPost,n=e.removePostGlobal;return s.a.createElement("div",{className:"text-block"},s.a.createElement("div",null,s.a.createElement("div",{className:"h-flex-container"},s.a.createElement("div",{className:"title"},t.title),s.a.createElement("button",{className:"remove",onClick:function(){fetch("".concat(p.backend.BASE_URL,"/posts/").concat(t.id),{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){return n(t.id)})}},"\u2573")),s.a.createElement("div",{className:"section-body"},t.body)),s.a.createElement(h,{postId:t.id}))},v=n(17),E=function(e){var t=e.userPosts,n=e.removePostGlobal;return s.a.createElement("ul",null,t.map(function(e){return s.a.createElement("li",{key:Object(v.a)()},s.a.createElement("div",{className:"block"},s.a.createElement(f,{userPost:e,removePostGlobal:n})))}))},b=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={titleInput:"",postInput:""},n.handleChangeTitle=function(e){return n.setState({titleInput:e.target.value})},n.handleChangePost=function(e){return n.setState({postInput:e.target.value})},n.handleAddClick=function(){fetch("".concat(p.backend.BASE_URL,"/posts"),{method:"POST",body:JSON.stringify({title:n.state.titleInput,body:n.state.postInput,userId:n.props.userId}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(e){return e.json()}).then(function(e){n.setState({titleInput:"",postInput:""}),n.props.addPostGlobal(e)})},n.render=function(){return s.a.createElement("div",{className:"post-sender"},s.a.createElement("input",{className:"input-post-sender",placeholder:"Header",type:"text",value:n.state.titleInput,onChange:n.handleChangeTitle}),s.a.createElement("textarea",{className:"input-post-sender",placeholder:"Write your post",type:"text",value:n.state.postInput,onChange:n.handleChangePost}),s.a.createElement("button",{className:"button-default",onClick:n.handleAddClick},"Post"))},n}return Object(i.a)(t,e),t}(s.a.Component),P=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={userId:"",userPosts:[]},n.handleChange=function(e){n.setState({userId:e.target.value}),n.loadPosts(e.target.value)},n.componentDidMount=function(){return n.loadPosts()},n.addPost=function(e){var t=Object(o.a)(n.state.userPosts);t.unshift(e),n.setState({userPosts:t})},n.removePost=function(e){var t=n.state.userPosts.filter(function(t){return t.id!==e});n.setState({userPosts:t})},n.loadPosts=function(e){var t;t=e?"".concat(p.backend.BASE_URL,"/users/").concat(e,"/posts/"):"".concat(p.backend.BASE_URL,"/posts/"),fetch(t).then(function(e){return e.json()}).then(function(e){return n.setState({userId:n.state.userId,userPosts:e})})},n.render=function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"search"},s.a.createElement("input",{type:"text",value:n.state.userId,onChange:n.handleChange,placeholder:"Enter user ID",ref:n.searchInput,autoFocus:!0})),!!n.state.userId&&s.a.createElement(b,{userId:n.state.userId,addPostGlobal:n.addPost}),!n.state.userId&&s.a.createElement("div",{className:"post-sender"},s.a.createElement("div",null,"Enter user ID for new post")),s.a.createElement("div",{className:"blog-feed"},s.a.createElement(E,{userPosts:n.state.userPosts,removePostGlobal:n.removePost})))},n}return Object(i.a)(t,e),t}(s.a.Component);var I=function(){return s.a.createElement("div",null,s.a.createElement(P,null))};Object(r.render)(s.a.createElement(I,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.eb87d12b.chunk.js.map